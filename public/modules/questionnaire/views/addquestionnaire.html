<aside class="right-side" data-ng-init="findOne()">
                <!-- Content Header (Page header) -->
                <section class="content-header">
                    <h1>
                        Questionnaire
                    </h1>
                    <ol class="breadcrumb">
                        <li><a href="/#/home"><i class="fa fa-dashboard"></i> Home</a></li>
                        <li><a href="/#/questionnaire">Questionnaire</a></li> 
                         <li>Add</li>                      
                    </ol>
                </section>
                <!-- Main content -->
        <section class="content" >
            <div class="row">
            <div class="col-md-12">
                <!-- Custom Tabs -->
                 <div data-ng-show="loading" class="loader-area">
                    <img src="/images/ajax-loader.gif" class="data-loader">
                </div>
                <div class="nav-tabs-custom">
                    <ul class="nav nav-tabs">
                        <li ng-class="{'active': activeTab === 0}" data-ng-click="moveTabContents(0)"><a data-toggle="tab">Questionnarie</a></li>
                        <li  data-ng-if="questionnaire._id" ng-class="{'active': activeTab === 1}" data-ng-click="moveTabContents(1)"><a   data-toggle="tab">Categories</a></li>
                         <li  data-ng-if="selectionCategory.length > 0" ng-class="{'active': activeTab === 2}" data-ng-click="moveTabContents(2)"><a   data-toggle="tab">Questions</a></li>
                      
                    </ul>
                    <div class="tab-content clearfix">
                        <div class="tab-pane" ng-class="{'active': activeTab === 0}" id="tab_1">
                         <div class="row">
                            <div class="col-xs-12">
                                <div class="box">
                                    <div class="box-body table-responsive">  
                                        <div class="alert alert-danger alert-dismissable" ng-show="message"><button class="close" aria-hidden="true" data-dismiss="alert" type="button">×</button>{{message}}</div>                    
                                        <form role="form">
                                        <div class="box-body">
                                        <div class="form-group">
                                            <label>Questionnaire</label>
                                            <input type="text" class="form-control" ng-model="questionnaire.questionnaire_name" placeholder="Enter Questionnaire">
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" name='enable'  ng-model='questionnaire.enable' checked="{{enableChecked}}"/>
                                                    Enable
                                                </label>
                                            </div>                                          
                                    </div>
                                   
</div>
                                   
                                </form>              
                                  </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  <div  class="tab-pane"  ng-class="{'active': activeTab === 1}" id="tab_2">
                    <div class="alert alert-danger alert-dismissable" ng-show="message"><button class="close" aria-hidden="true" data-dismiss="alert" type="button">×</button>{{message}}</div>
                                <form role="form">
                                    <table id="example1" class="table table-bordered table-striped" ng-table="tableParams" show-filter="isFiltersVisible"> 
                                     <colgroup>
                                              <col width="5%"/>
                                              <!-- <col width="5%"/> -->
                                              <col width="95%"/>
                                             <!--  <col width="10%"/>
                                              <col width="20%"/>
                                              <col width="20%"/> -->
                                             
                                            </colgroup>

                                            <tr ng-repeat = "category in $data">
                                                <td><input type='checkbox' ng-model="checkboxes.items[category._id]" value="{{category._id}}" ng-change="toggleSelection(category._id)"/></td>
                                                
                                             <td data-title="'Category Name'" sortable="'category_name'" filter="{category_name:'text'}" align="left">{{category.category_name}}</td>
                                            </tr>
                                            
                                    </table>   
                                      </form>

                                            

                  </div><!-- /.tab-pane -->

                       <div  class="tab-pane"  ng-class="{'active': activeTab === 2}" id="tab_3">
                    <div class="alert alert-danger alert-dismissable" ng-show="message"><button class="close" aria-hidden="true" data-dismiss="alert" type="button">×</button>{{message}}</div>
                   
      
<div class="accordion-test">
  <accordion close-others="oneAtATime">  
    <accordion-group is-open="isopen" data-ng-repeat="category in updatedSortedCategory">
        <accordion-heading>
            {{category.name}}<i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': isopen, 'glyphicon-chevron-right': !isopen}"></i>
        </accordion-heading>
        <div ng-switch on="isopen">
          <div ng-switch-when="true">
           <script type="text/ng-template" id="threadselect.html">
               <div class="question-ttl">
                 <span class="set{{question.deleted==0}}">{{question.en}}</span>
                  <a ng-if="selectable" href="" data-ng-click="addQuestion(question._id)" title="{{question._id}}"><i class="pull-right fa fa-angle-right fa-2x"></i></a>
               </div>
                <ul class="question-list">
                  <li class="question-item" ng-repeat="question in question.questions" ng-include="'threadselect.html'" ng-init="selectable=false"></li>
              </ul>
            </script> 
            <ul data-ng-show="category.questions" class="question-list">
                <li ng-include="'threadselect.html'" class="question-item" data-ng-repeat="question in category.questions" ng-init="selectable=true"></li>
            </ul>
          </div>
        </div>
    </accordion-group>
  </accordion>
</div>
<div class="accordion-test">
  <accordion close-others="oneAtATime">  
    <accordion-group is-open="category.isopen" data-ng-repeat="category in questionnaire.questions">
        <accordion-heading>
            {{category.name}}<i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': isopen, 'glyphicon-chevron-right': !isopen}"></i>
        </accordion-heading>
            <ul class="slected_ques" ng-model="category.questions" style="width:100%;">
              <li class="question-item" data-ng-repeat="question in category.questions">

                  <span class="set{{question.deleted==0}}">{{question.en}}</span>
                  <a href="" data-ng-click="removeSelectedQuestion(question._id)" title="{{question._id}}"><i class="pull-right fa fa-angle-left fa-2x"></i></a>
                  <ul  data-ng-model="question.questions" class="question-list" ng-if="question.questions.length>0">
                    <li class="question-item" data-ng-repeat="question in question.questions">
                      <span class="set{{question.deleted==0}}">{{question.en}}</span>
                      <a href="" data-ng-click="removeSelectedQuestion(question._id)" title="{{question._id}}"><i class="pull-right fa fa-angle-left fa-2x"></i></a>
                      <ul ui-sortable data-ng-model="question.questions" class="question-list" ng-if="question.questions.length>0">
                        <li class="question-item" ng-repeat="question in question.questions">
                          <span class="set{{question.deleted==0}}">{{question.en}}</span>
                          <a href="" data-ng-click="removeSelectedQuestion(question._id)" title="{{question._id}}"><i class="pull-right fa fa-angle-left fa-2x"></i></a>
                          <ul ui-sortable data-ng-model="question.questions" class="question-list" ng-if="question.questions.length>0">
                            <li class="question-item" ng-repeat="question in question.questions">
                              <span class="set{{question.deleted==0}}">{{question.en}}</span>
                              <a href="" data-ng-click="removeSelectedQuestion(question._id)" title="{{question._id}}"><i class="pull-right fa fa-angle-left fa-2x"></i></a>
                              <ul ui-sortable data-ng-model="question.questions" class="question-list" ng-if="question.questions.length>0">
                                <li class="question-item" ng-repeat="question in question.questions">
                                  <span class="set{{question.deleted==0}}">{{question.en}}</span>
                                  <a href="" data-ng-click="removeSelectedQuestion(question._id)" title="{{question._id}}"><i class="pull-right fa fa-angle-left fa-2x"></i></a>
                                  <ul ui-sortable data-ng-model="question.questions" class="question-list" ng-if="question.questions.length>0">
                                    <li class="question-item" ng-repeat="question in question.questions">
                                      <span class="set{{question.deleted==0}}">{{question.en}}</span>
                                      <a href="" data-ng-click="removeSelectedQuestion(question._id)" title="{{question._id}}"><i class="pull-right fa fa-angle-left fa-2x"></i></a>
                                  </li>
                                </ul>
                              </li>
                            </ul>
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
         
    </accordion-group>
  </accordion>
</div>





                                             

                  </div><!-- /.tab-pane -->
              </div><!-- /.tab-content -->

          </div>
            <div class="box-footer clearfix no-border">
                                                  <button data-ng-if="!questionnaire._id" class="btn m_lft5 btn-warning pull-right" data-ng-click="updateData(0)">Save & Continue</button>
                                                   <button data-ng-if="questionnaire._id && activeTab != 2" class="btn m_lft5 btn-warning pull-right" data-ng-click="updateData(0)">Save & Continue</button>

                                                  <button data-ng-if="(questionnaire._id)" class="btn m_lft5 btn-warning pull-right" data-ng-click="updateData(1)">Save & Exit</button>

                                              </div>
      </div>
  </div>
</div>
  </section><!-- /.content -->


            </aside><!-- /.right-side -->